<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Age-Based Movie Recommender</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
  <div class="bg-white p-8 rounded-2xl shadow-md max-w-md w-full">
    <h1 class="text-2xl font-bold mb-4 text-center">ðŸŽ¬ Movie Recommender</h1>
    
    <label for="ageInput" class="block text-sm font-medium text-gray-700 mb-1">Enter your age:</label>
    <input id="ageInput" type="number" class="w-full p-2 border rounded mb-4" placeholder="e.g. 15"/>

    <button id="recommendBtn" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">
      Get Recommendations
    </button>

    <div id="result" class="mt-6 text-center text-gray-800"></div>
  </div>

  <script>    
    const movieCategories = [
      {
        category: "Kids",
        minAge: 0,
        maxAge: 12,
        movies: ["Despicable Me", "Brave ", "Kung Fu Panda","Coco"]
      },
      {
        category: "Teens",
        minAge: 13,
        maxAge: 17,
        movies: ["Spider-Man: Homecoming", "Wall-E", "Good Will Hunting"]
      },

      {
        category: "Adults",
        minAge: 18,
        maxAge: 64,
        movies: ["Wolf Of Wall Street", "Life is Beautiful 1997", "Beautiful Mind", "The Prestige"]
      },
      {
        category: "Seniors",
        minAge: 65,
        maxAge: 120,
        movies: ["12 Angry Men", "The Pianist","Get Out","Oldboy"]
      }
    ];

    const getCategoryByAge = (age) =>
      movieCategories.find(cat => age >= cat.minAge && age <= cat.maxAge);

    const getRandomMovies = (movies) => {
      const shuffled = [...movies].sort(() => Math.random() - 0.5);
      return shuffled.slice(0, 2);
    };

    document.getElementById("recommendBtn").addEventListener("click", () => {
      const age = parseInt(document.getElementById("ageInput").value);
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = "";

      if (isNaN(age) || age < 0 || age > 120) {
        resultDiv.innerHTML = "<p class='text-red-600'>Please enter a valid age between 0 and 120.</p>";
        return;
      }

      const category = getCategoryByAge(age);

      if (!category) {
        resultDiv.innerHTML = "<p class='text-red-600'>No recommendations found for your age.</p>";
        return;
      }

      const recommended = getRandomMovies(category.movies);
      const movieList = recommended.map(movie => `<li>${movie}</li>`).join("");

      resultDiv.innerHTML = `
        <h2 class="text-xl font-semibold mb-2">Category: ${category.category}</h2>
        <ul class="list-disc list-inside text-left">${movieList}</ul>
      `;
    });
  </script>
</body>
</html>
